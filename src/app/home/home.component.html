<app-header></app-header>
<div *ngIf="searchQuery$ | async" class="flex flex-col max-w-2xl m-auto gap-4">
  <h1>Search Results:</h1>
  <app-user-item
    *ngIf="searchedUser$ | async; else noUser"
    [user]="searchedUser$ | async"
  ></app-user-item>
  <ng-template #noUser>
    <p class="text-red-600">
      No User with ID = {{ searchQuery$ | async }} was found!
    </p>
  </ng-template>
</div>
<div *ngIf="!(searchQuery$ | async)" class="max-w-2xl w-screen p-3 m-auto">
  <h1 class="mb-3">Users</h1>
  <section class="py-2 flex flex-col rounded-sm">
    <ng-container *ngIf="users$ | async as userList; else loading">
      <app-user-item
        *ngFor="let user of userList.data"
        [user]="user"
      ></app-user-item>
      <app-pagination
        [currentPage]="currentPage"
        [itemsPerPage]="itemsPerPage"
        [totalItems]="totalItems"
        (pageChanged)="onPageChange($event)"
      ></app-pagination>
    </ng-container>
    <ng-template #loading>
      <section
        class="flex-1 w-screen max-w-2xl h-[60vh] bg-gray-500 animate-pulse"
      ></section>
    </ng-template>
  </section>
</div>
